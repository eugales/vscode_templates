# Шаблоны для Stateful виджета
  
  
| Name   | Expression   | Default value                                       | Skip if defined |
|--------|--------------|-----------------------------------------------------|-----------------|
| `NAME` |              | `capitalize(camelCase(fileNameWithoutExtension()))` |                 |

  
`stfulWithStateScope`
```text
"Flutter Stateful Widget With State Scope": {
  "prefix": "stfulWithStateScope",
  "description": "Insert Stateful Widget with State and InheritedWidget as Scope",
  "body": [
    "import 'package:flutter/widgets.dart';",
    "import 'package:flutter/foundation.dart';",
    "",
    "@immutable",
    "class $NAME extends StatefulWidget {",
    "  final Widget child;",
    "  const $NAME({",
    "    required this.child,",
    "    Key? key,",
    "  }) : super(key: key);",
    "",
    "  static State<$NAME>? of(BuildContext context) =>",
    "      _$NAME$Scope.of(context)?.state;",
    "",
    "  @override",
    "  State<$NAME> createState() => _$NAME$State();",
    "",
    "  @override",
    "  void debugFillProperties(DiagnosticPropertiesBuilder properties) =>",
    "      super.debugFillProperties(",
    "        properties",
    "          ..add(",
    "            StringProperty(",
    "              'description',",
    "              '$NAME StatefulWidget',",
    "            ),",
    "          ),",
    "      );",
    "}",
    "",
    "class _$NAME$State extends State<$NAME> {",
    "",
    "  @override",
    "  void initState() {",
    "    super.initState();",
    "    // Первичная инициализация виджета",
    "  }",
    "",
    "  @override",
    "  void didUpdateWidget($NAME oldWidget) {",
    "    super.didUpdateWidget(oldWidget);",
    "    // Конфигурация виджета изменилась",
    "  }",
    "  ",
    "  @override",
    "  void didChangeDependencies() {",
    "    super.didChangeDependencies();",
    "    // Изменилась конфигурация InheritedWidget'ов",
    "    // Также вызывается после initState, но до build'а",
    "  }",
    "  ",
    "  @override",
    "  void dispose() {",
    "    // Перманетное удаление стейта из дерева",
    "    super.dispose();",
    "  }",
    "",
    "  @override",
    "  void debugFillProperties(DiagnosticPropertiesBuilder properties) =>",
    "      super.debugFillProperties(",
    "        properties",
    "          ..add(",
    "            StringProperty(",
    "              'description',",
    "              '_$NAME$State State<$NAME>',",
    "            ),",
    "          ),",
    "      );",
    "",
    "  @override",
    "  Widget build(BuildContext context) =>",
    "      _$NAME$Scope(",
    "        state: this,",
    "        child: widget.child,",
    "      );",
    "}",
    "",
    "@immutable",
    "class _$NAME$Scope extends InheritedWidget {",
    "  final _$NAME$State state;",
    "",
    "  const _$NAME$Scope({",
    "    required Widget child,",
    "    required this.state,",
    "    Key? key,",
    "  }) : super(key: key, child: child);",
    "",
    "  /// Find _$NAME$Scope in BuildContext",
    "  static _$NAME$Scope? of(BuildContext context, {bool listen = false}) {",
    "      if(listen) {",
    "        return context.dependOnInheritedWidgetOfExactType<_$NAME$Scope>();",
    "      } else {",
    "        final inheritedWidget = context",
    "             .getElementForInheritedWidgetOfExactType<_$NAME$Scope>()",
    "             ?.widget;",
    "        return inheritedWidget is _$NAME$Scope ? inheritedWidget : null;",
    "      }",
    "  }",
    "",
    "  @override",
    "  bool updateShouldNotify(_$NAME$Scope oldWidget) =>",
    "      !identical(state, oldWidget.state)",
    "      || state != oldWidget.state;",
    "",
    "  @override",
    "  void debugFillProperties(DiagnosticPropertiesBuilder properties) =>",
    "      super.debugFillProperties(",
    "        properties",
    "          ..add(",
    "            StringProperty(",
    "              'description',",
    "              'Scope of $NAME',",
    "            ),",
    "          )",
    "          ..add(",
    "            ObjectFlagProperty<_$NAME$State>(",
    "              '_$NAME$State',",
    "              state,",
    "              ifNull: 'none',",
    "            ),",
    "          )",
    "          ..defaultDiagnosticsTreeStyle = DiagnosticsTreeStyle.offstage,",
    "      );",
    "}",
  ]
}